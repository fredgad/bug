onload=(()=>{let e=document.getElementById("wrap"),t=document.getElementById("rngHeight"),n=document.getElementById("rngWidth"),l=document.getElementById("cont"),a=document.getElementById("bttn"),i=document.getElementById("turn"),d=document.getElementById("tran"),s=document.getElementById("numW"),m=document.getElementById("numH"),u=l.offsetHeight,o=l.offsetWidth,c=0,r=1;function g(){l.innerHTML="";for(let e=0;e<s.value*m.value;e++)l.innerHTML+=`<div class="image${c}"></div><div class="image${r}"></div>`}function v(e){let t=document.getElementsByClassName("image"+e),n=70/s.value,l=40/m.value,a=100/s.value,i=100/m.value,d=s.value,c=0,r=0,g=0,v=0;for(let e=0;e<s.value*m.value;e++)t[e].style.height=u/m.value+"px",t[e].style.width=o/s.value+"px",t[e].style.left=g+"rem",t[e].style.top=v+"rem",t[e].style.backgroundSize=`${100*s.value}% ${100*m.value}%`,t[e].style.backgroundPosition=`${r}% ${c}%`,g+=n,r+=a,e==d-1&&(g=0,r=0,v+=l,c+=i,d=Number(d)+ +s.value)}function y(e,t){let n=document.getElementsByClassName("image"+c),l=document.getElementsByClassName("image"+r);setTimeout(()=>{for(let a=0;a<n.length;a++)setTimeout(()=>{n[a].style.display="block",l[a].style.display="none"},15*a),n[a].style.animation=`${e} ${t}s linear`,l[l.length-a-1].style.animation=`${e} ${t}s linear`},0)}e.addEventListener("click",t=>{!function(t){t.clientX<e.offsetWidth/2?(--c<0&&(c=2),--r<0&&(r=2)):(++c>2&&(c=0),++r>2&&(r=0))}(t),g(),v(c),v(r),t.clientX<e.offsetWidth/2?y("turn","1"):y("tran","1")}),a.addEventListener("click",()=>{!function(){let e=document.getElementsByClassName("image"+c);document.getElementsByClassName("image"+r);for(let t=0;t<e.length;t++)e[t].style.borderTop="1px solid #fff",e[t].style.borderLeft="1px solid #fff"}()}),i.addEventListener("click",()=>{y("turn","50")}),d.addEventListener("click",()=>{y("tran","50")}),n.addEventListener("input",()=>{s.value=n.value,g()}),t.addEventListener("input",()=>{m.value=t.value})});